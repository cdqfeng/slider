/* Slider v1.0.0 by qingfeng 2017-01-18 */
"use strict";function Slider(config){if(!(this instanceof Slider)){return new Slider()}this.container="";this.wrap="";this.interval=5000;this.speed=300;this.auto=false;this.width=0;this.sum=0;this.current=0;this.timer="";this.arrows={prev:'<a class="slider-prev" href="javascript:;"></a>',next:'<a class="slider-next" href="javascript:;"></a>'};this.nav=function(index){return index};this.navNode={wrap:'<div class="slider-nav"><ol></ol></div>',li:"<li></li>"};this.init(config)}Slider.prototype.init=function(config){for(var k in config){this[k]=config[k]}this.container=$(this.container);this.wrap=$(this.wrap);this.width=this.wrap.children("li:first").width();this.sum=this.wrap.children("li").length;if(this.arrows){this.arrows.prev=$(this.arrows.prev);this.arrows.next=$(this.arrows.next);this.container.after(this.arrows.prev).after(this.arrows.next)}if(this.nav){this.navNode.wrap=$(this.navNode.wrap);for(var i=1;i<this.sum+1;i++){var li=$(this.navNode.li).html(this.nav(i));this.navNode.wrap.children("ol").append(li)}this.navNode.wrap.find("li:first").addClass("active");this.container.after(this.navNode.wrap)}if(this.auto){this.start()}this.handle()};Slider.prototype.next=function(num){var _=this;this.wrap.stop(true,true).animate({left:-this.width+"px"},this.speed,function(){for(var i=0;i<num;i++){var liFirst=$(this).children("li:first");$(this).append(liFirst);_.current++;if(_.current==_.sum){_.current=0}if(_.nav){_.navNode.wrap.find("li").removeClass("active").eq(_.current).addClass("active")}}$(this).css({left:0})})};Slider.prototype.prev=function(){this.wrap.css({left:-this.width+"px"});var lastChildren=this.wrap.children("li:last");this.wrap.prepend(lastChildren);this.wrap.stop().animate({left:0},this.speed);this.current--;if(this.current<0){this.current=this.sum-1}if(this.nav){this.navNode.wrap.find("li").removeClass("active").eq(this.current).addClass("active")}};Slider.prototype.handle=function(){var _=this;if(this.arrows){this.arrows.next.on("click",function(){_.next(1)});this.arrows.prev.on("click",function(){_.prev()})}if(this.nav){this.navNode.wrap.on("click","li",function(){var index=$(this).index();var difference=Math.abs(index-_.current);if(_.nav){_.navNode.wrap.find("li").removeClass("active").eq(_.current).addClass("active")}if(index>_.current){_.next(difference)}if(index<_.current){for(var i=0;i<difference;i++){_.prev()}}})}};Slider.prototype.start=function(){var _=this;this.timer=setInterval(function(){_.next(1)},_.interval)};Slider.prototype.stop=function(){clearInterval(this.timer)};